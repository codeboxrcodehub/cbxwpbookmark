import{_ as f,r as c,o as t,b as r,a as o,t as e,d as i,e as d,i as D,j as C,k as u,l as B,p as O,H as L,I as S,A as P}from"./vue-router.js";import{C as V,A,p as H,a as N,b as q,B as E,c as F,L as I,d as j,D as R,e as U,m as W}from"./index.js";V.register(A,H,N,q,E,F,I);const Y={components:{Bar:j,Doughnut:R,flatPickr:U},data(){return{flatPickerConf:{plugins:[new W({shorthand:!0,dateFormat:"Y-m",altFormat:"F Y"})],altInput:!0,defaultDate:new Date},selectedDate:null,bookmarkCategoriesData:{},cbxwpbookmark_vue_var,dashboard_data:cbxwpbookmark_vue_var.front_dashboard_data,dailyBookmarkData:{},barChartOptions:{responsive:!0,plugins:{legend:{display:!1}}},donutChartOptions:{responsive:!0},initialDataLoaded:!1,category_mode:cbxwpbookmark_vue_var.category_mode}},watch:{selectedDate(_){this.onDateChange(_)}},created(){this.getOverviewData()},methods:{async getOverviewData(){let _="";if(this.selectedDate){const[s,h]=this.selectedDate.split("-");let n=new URLSearchParams;n.set("year",s),n.set("month",h),n=n.toString(),_=cbxwpbookmark_vue_var.rest_end_points.front_dashboard_overview+"?"+n}else _=cbxwpbookmark_vue_var.rest_end_points.front_dashboard_overview;await this.axios.get(_).then(s=>{s.data.success&&Object.keys(s.data.dailyBookmarkData).length>0&&(this.dailyBookmarkData=s.data.dailyBookmarkData,this.bookmarkCategoriesData=s.data.bookmarkCategoriesData,this.initialDataLoaded=!0)})},onDateChange(_){this.getOverviewData()}}},M={class:"container"},X={class:"row"},z={class:"col-12"},G={id:"dashboard_global_wrapper"},J={class:"dashboard_section_header row"},K={class:"col-6 dashboard_section_header_l"},Q={id:"dashboard_core_vitals"},T={class:"dashboard_core_vitals_wrap row"},Z={class:"dashboard_core_vitals_l col-12"},$={class:"row dashboard_core_vitals_l_wrap"},oo={class:"dashboard_core_vital dashboard_core_vital_bookmark col-4"},ao={class:"core_vital_header"},eo={class:"icon icon-bookmarks"},so={class:"cbx-icon"},to={class:"core_vital_content"},ro=["href"],_o={key:1},no={key:0,class:"dashboard_core_vital dashboard_core_vital_cat col-4"},io={class:"core_vital_header"},co={class:"icon icon-category"},lo={class:"cbx-icon"},ho={class:"core_vital_content"},bo=["href"],vo={key:1},ko={class:"dashboard_section_header row"},mo={class:"col-6 dashboard_section_header_l"},po={class:"col-6 dashboard_section_header_r"},uo={id:"dashboard_monthly_x",class:"row"},wo={class:"col-8 monthly_x_big_plot"},go={id:"monthly_x_big_plot_wrapper"},yo={class:"monthly_x_header"},xo={key:0,class:"monthly_x_content"},fo={class:"col-4 monthly_x_small_plot"},Do={key:0,id:"monthly_x_small_plot_wrapper"},Co={class:"monthly_x_header"},Bo={key:0,class:"monthly_x_content"};function Oo(_,s,h,n,a,Vo){var v,k,m,p;const b=c("inline-svg"),w=c("flat-pickr"),g=c("Bar"),y=c("Doughnut");return t(),r("div",M,[o("div",X,[o("div",z,[o("div",G,[o("div",J,[o("div",K,[o("h2",null,e(a.cbxwpbookmark_vue_var.translation.dashboard.dashboard_overview),1),o("p",null,e(a.cbxwpbookmark_vue_var.translation.dashboard.quick_information),1)]),s[1]||(s[1]=o("div",{class:"col-6 dashboard_section_header_r"},null,-1))]),o("div",Q,[o("div",T,[o("div",Z,[o("div",$,[o("div",oo,[o("div",ao,[o("div",eo,[o("i",so,[i(b,{src:a.cbxwpbookmark_vue_var.icons_url+"app/icon_bookmark.svg"},null,8,["src"])])]),o("h3",null,e(a.cbxwpbookmark_vue_var.translation.dashboard.bookmarks),1)]),o("div",to,[(k=(v=a.cbxwpbookmark_vue_var)==null?void 0:v.user_capabilities)!=null&&k.cbxwpbookmark_log_manage?(t(),r("a",{key:0,href:a.cbxwpbookmark_vue_var.home_url+"/bookmark-user-dashboard/?component=bookmark_manager"},e(a.dashboard_data.bookmark_count)+" "+e(a.cbxwpbookmark_vue_var.translation.dashboard.bookmarks_submitted),9,ro)):(t(),r("a",_o,e(a.dashboard_data.bookmark_count)+" "+e(a.cbxwpbookmark_vue_var.translation.dashboard.bookmarks_submitted),1))])]),a.category_mode!="no_cat"?(t(),r("div",no,[o("div",io,[o("div",co,[o("i",lo,[i(b,{src:a.cbxwpbookmark_vue_var.icons_url+"app/icon_category.svg"},null,8,["src"])])]),o("h3",null,e(a.cbxwpbookmark_vue_var.translation.dashboard.categories),1)]),o("div",ho,[(p=(m=a.cbxwpbookmark_vue_var)==null?void 0:m.user_capabilities)!=null&&p.cbxwpbookmark_category_manage?(t(),r("a",{key:0,href:a.cbxwpbookmark_vue_var.home_url+"/bookmark-user-dashboard/?component=category_manager"},e(a.dashboard_data.cats_count)+" "+e(a.cbxwpbookmark_vue_var.translation.dashboard.categories_created),9,bo)):(t(),r("a",vo,e(a.dashboard_data.cats_count)+" "+e(a.cbxwpbookmark_vue_var.translation.dashboard.categories_created),1))])])):d("",!0)])])])]),o("div",ko,[o("div",mo,[o("h2",null,e(a.cbxwpbookmark_vue_var.translation.dashboard.bookmark_submission_overview),1),o("p",null,e(a.cbxwpbookmark_vue_var.translation.dashboard.quick_overview_of_monthly),1)]),o("div",po,[i(w,{modelValue:a.selectedDate,"onUpdate:modelValue":s[0]||(s[0]=x=>a.selectedDate=x),config:a.flatPickerConf},null,8,["modelValue","config"])])]),o("div",uo,[o("div",wo,[o("div",go,[o("div",yo,[o("h3",null,e(a.cbxwpbookmark_vue_var.translation.dashboard.monthly_bookmark_submission_overview),1)]),a.initialDataLoaded?(t(),r("div",xo,[i(g,{id:"my-chart-id",options:a.barChartOptions,data:a.dailyBookmarkData},null,8,["options","data"])])):d("",!0)])]),o("div",fo,[a.category_mode!="no_cat"?(t(),r("div",Do,[o("div",Co,[o("h3",null,e(a.cbxwpbookmark_vue_var.translation.dashboard.bookmark_overview_by_cat),1)]),a.initialDataLoaded?(t(),r("div",Bo,[i(y,{data:a.bookmarkCategoriesData,options:a.donutChartOptions},null,8,["data","options"])])):d("",!0)])):d("",!0)])])])])])])}const Lo=f(Y,[["render",Oo]]),So=D(),Po=C({history:So,routes:[{path:"/",component:Lo}]});u.defaults.headers.common["X-WP-Nonce"]=cbxwpbookmark_vue_var.rest_nonce;const l=B(P);l.use(O,u);l.use(L);l.component("inline-svg",S);l.use(Po).mount("#cbxwpbookmark-front-stat-dashboard");
