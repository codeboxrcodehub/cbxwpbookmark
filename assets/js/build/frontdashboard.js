import{_ as f,r as c,o as r,b as _,a as o,t,d as i,e as d,i as D,j as C,k as p,l as B,p as S,H as L,I as O,A as P}from"./vue-router.js";import{C as V,A as q,p as A,a as H,b as N,B as E,c as F,L as I,d as W,D as j,e as R,m as U}from"./index.js";V.register(q,A,H,N,E,F,I);const Y={components:{Bar:W,Doughnut:j,flatPickr:R},data(){return{flatPickerConf:{plugins:[new U({shorthand:!0,dateFormat:"Y-m",altFormat:"F Y"})],altInput:!0,defaultDate:new Date},selectedDate:null,bookmarkCategoriesData:{},cbxwpbookmark_vue_var,dashboard_data:cbxwpbookmark_vue_var.front_dashboard_data,dailyBookmarkData:{},barChartOptions:{responsive:!0,plugins:{legend:{display:!1}}},donutChartOptions:{responsive:!0},initialDataLoaded:!1,category_mode:cbxwpbookmark_vue_var.category_mode}},watch:{selectedDate(s){this.onDateChange(s)}},created(){this.getOverviewData()},methods:{async getOverviewData(){let s="";if(this.selectedDate){const[e,h]=this.selectedDate.split("-");let n=new URLSearchParams;n.set("year",e),n.set("month",h),n=n.toString(),s=cbxwpbookmark_vue_var.rest_end_points.front_dashboard_overview+"?"+n}else s=cbxwpbookmark_vue_var.rest_end_points.front_dashboard_overview;await this.axios.get(s).then(e=>{e.data.success&&Object.keys(e.data.dailyBookmarkData).length>0&&(this.dailyBookmarkData=e.data.dailyBookmarkData,this.bookmarkCategoriesData=e.data.bookmarkCategoriesData,this.initialDataLoaded=!0)})},onDateChange(s){this.getOverviewData()}}},M={class:"container"},Q={class:"row"},X={class:"col-12"},z={id:"dashboard_global_wrapper"},G={class:"dashboard_section_header row"},J={class:"col-6 dashboard_section_header_l"},K={id:"dashboard_core_vitals"},T={class:"dashboard_core_vitals_wrap row"},Z={class:"dashboard_core_vitals_l col-12"},$={class:"row dashboard_core_vitals_l_wrap"},oo={class:"dashboard_core_vital dashboard_core_vital_bookmark col-4"},ao={class:"core_vital_header"},to={class:"icon icon-bookmarks"},eo={class:"cbx-icon"},so={class:"core_vital_content"},ro=["href"],_o={key:1},no={key:0,class:"dashboard_core_vital dashboard_core_vital_cat col-4"},io={class:"core_vital_header"},co={class:"icon icon-category"},lo={class:"cbx-icon"},ho={class:"core_vital_content"},bo=["href"],vo={key:1},ko={class:"dashboard_section_header row"},uo={class:"col-6 dashboard_section_header_l"},mo={class:"col-6 dashboard_section_header_r"},po={id:"dashboard_monthly_x",class:"row"},wo={class:"col-8 monthly_x_big_plot"},go={id:"monthly_x_big_plot_wrapper"},yo={class:"monthly_x_header"},xo={key:0,class:"monthly_x_content"},fo={class:"col-4 monthly_x_small_plot"},Do={key:0,id:"monthly_x_small_plot_wrapper"},Co={class:"monthly_x_header"},Bo={key:0,class:"monthly_x_content"};function So(s,e,h,n,a,Vo){var v,k,u,m;const b=c("inline-svg"),w=c("flat-pickr"),g=c("Bar"),y=c("Doughnut");return r(),_("div",M,[o("div",Q,[o("div",X,[o("div",z,[o("div",G,[o("div",J,[o("h2",null,t(a.cbxwpbookmark_vue_var.translation.dashboard.dashboard_overview),1),o("p",null,t(a.cbxwpbookmark_vue_var.translation.dashboard.quick_information),1)]),e[1]||(e[1]=o("div",{class:"col-6 dashboard_section_header_r"},null,-1))]),o("div",K,[o("div",T,[o("div",Z,[o("div",$,[o("div",oo,[o("div",ao,[o("div",to,[o("i",eo,[i(b,{src:a.cbxwpbookmark_vue_var.icons_url+"app/icon_bookmark.svg"},null,8,["src"])])]),o("h3",null,t(a.cbxwpbookmark_vue_var.translation.dashboard.bookmarks),1)]),o("div",so,[(k=(v=a.cbxwpbookmark_vue_var)==null?void 0:v.user_capabilities)!=null&&k.cbxwpbookmark_log_manage?(r(),_("a",{key:0,href:a.cbxwpbookmark_vue_var.front_dashboard_urls.log_url},t(a.dashboard_data.bookmark_count)+" "+t(a.cbxwpbookmark_vue_var.translation.dashboard.bookmarks_submitted),9,ro)):(r(),_("a",_o,t(a.dashboard_data.bookmark_count)+" "+t(a.cbxwpbookmark_vue_var.translation.dashboard.bookmarks_submitted),1))])]),a.category_mode!="no_cat"?(r(),_("div",no,[o("div",io,[o("div",co,[o("i",lo,[i(b,{src:a.cbxwpbookmark_vue_var.icons_url+"app/icon_category.svg"},null,8,["src"])])]),o("h3",null,t(a.cbxwpbookmark_vue_var.translation.dashboard.categories),1)]),o("div",ho,[(m=(u=a.cbxwpbookmark_vue_var)==null?void 0:u.user_capabilities)!=null&&m.cbxwpbookmark_category_manage?(r(),_("a",{key:0,href:a.cbxwpbookmark_vue_var.front_dashboard_urls.cat_url},t(a.dashboard_data.cats_count)+" "+t(a.cbxwpbookmark_vue_var.translation.dashboard.categories_created),9,bo)):(r(),_("a",vo,t(a.dashboard_data.cats_count)+" "+t(a.cbxwpbookmark_vue_var.translation.dashboard.categories_created),1))])])):d("",!0)])])])]),o("div",ko,[o("div",uo,[o("h2",null,t(a.cbxwpbookmark_vue_var.translation.dashboard.bookmark_submission_overview),1),o("p",null,t(a.cbxwpbookmark_vue_var.translation.dashboard.quick_overview_of_monthly),1)]),o("div",mo,[i(w,{modelValue:a.selectedDate,"onUpdate:modelValue":e[0]||(e[0]=x=>a.selectedDate=x),config:a.flatPickerConf},null,8,["modelValue","config"])])]),o("div",po,[o("div",wo,[o("div",go,[o("div",yo,[o("h3",null,t(a.cbxwpbookmark_vue_var.translation.dashboard.monthly_bookmark_submission_overview),1)]),a.initialDataLoaded?(r(),_("div",xo,[i(g,{id:"my-chart-id",options:a.barChartOptions,data:a.dailyBookmarkData},null,8,["options","data"])])):d("",!0)])]),o("div",fo,[a.category_mode!="no_cat"?(r(),_("div",Do,[o("div",Co,[o("h3",null,t(a.cbxwpbookmark_vue_var.translation.dashboard.bookmark_overview_by_cat),1)]),a.initialDataLoaded?(r(),_("div",Bo,[i(y,{data:a.bookmarkCategoriesData,options:a.donutChartOptions},null,8,["data","options"])])):d("",!0)])):d("",!0)])])])])])])}const Lo=f(Y,[["render",So]]),Oo=D(),Po=C({history:Oo,routes:[{path:"/",component:Lo}]});p.defaults.headers.common["X-WP-Nonce"]=cbxwpbookmark_vue_var.rest_nonce;const l=B(P);l.use(S,p);l.use(L);l.component("inline-svg",O);l.use(Po).mount("#cbxwpbookmark-front-stat-dashboard");document.body.classList.contains("wp-theme-astra")&&function(){const s=Document.prototype.querySelector;Document.prototype.querySelector=function(e){return e&&e.startsWith("#/")?null:s.call(this,e)}}();
