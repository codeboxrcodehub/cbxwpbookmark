import{_ as w,r as f,o as i,b as a,a as o,t as n,d as x,F as c,q as u,u as h,f as y,h as C,e as b,n as A,i as M,j as V,k as m,l as N,p as H,H as T,I as q,A as B}from"./vue-router.js";import{d as v}from"./vee-validate.js";const E={data(){return{cbxwpbookmark_vue_var,option_array:cbxwpbookmark_vue_var.option_array,reset_options:{},show_option_table:!1,show_migration_data:!1,translations:cbxwpbookmark_vue_var.translation,submitted:!1}},methods:{checkAll(){this.option_array.forEach(l=>{this.reset_options[l.option_name]=!0})},uncheckAll(){this.option_array.forEach(l=>{this.reset_options[l.option_name]=!1})},async reset(){if(!Object.values(this.reset_options).some(_=>_)){this.errorToast(cbxwpbookmark_vue_var.translation.tools.please_select_one);return}let l=cbxwpbookmark_vue_var.rest_end_points.reset_option,t={reset_options:this.reset_options};await this.axios.post(l,t).then(_=>{_.data.success?this.successMessage(_.data.info):_.data.info&&this.errorMessage(_.data.info)})},async migrate(){let l=cbxwpbookmark_vue_var.rest_end_points.migrate_table;this.submitted=!0,await this.axios.post(l,{}).then(t=>{this.submitted=!1,t.data.success?(this.successMessage(t.data.info),window.location.reload(!0)):t.data.info&&this.errorMessage(t.data.info)})}}},j={class:"container"},D={class:"row"},F={class:"col-12 mb-20"},I={class:"wp-heading-wrap"},R={class:"wp-heading-wrap-left pull-left"},S={class:"wp-heading-inline wp-heading-inline-cbxwpbookmark"},U={class:"wp-heading-wrap-right pull-right"},W={class:"button_actions button_actions-global-menu"},z={class:"dropdown dropdown-menu ml-10"},L={class:"button outline primary icon icon-only"},O={class:"cbx-icon"},P={class:"card card-menu card-menu-right"},X={id:"dashboard_menus"},G=["href","title"],J={class:"container"},K={class:"row"},Q={class:"col-12"},Y={class:"postbox"},Z={class:"inside setting-form-wrap"},$={class:"tools-section reset-section"},oo={class:"row"},so={class:"col-6"},to={class:"col-6"},eo={key:0,id:"tools-section-content tools-section-content-reset"},no={class:"row"},lo={class:"col-12"},io={class:"row"},ao={class:"col-6"},ro={style:{"margin-bottom":"10px"},class:"grouped gapless grouped_buttons",id:"cbxwpbookmark_setting_options_check_actions"},_o={class:"col-6"},co={class:"table table-hover table-striped table-bordered",id:"cbxwpbookmark_setting_options_table"},uo={class:"row-title"},ho={class:"row-title"},bo=["onUpdate:modelValue","id","value"],po=["for"],mo={class:"row-title"},vo={class:"tools-section tools-section-migration"},ko={class:"row tools-section-header tools-section-header-migration"},go={class:"col-6 mb-0"},wo={class:"col-6 mb-0"},fo={key:0,class:"tools-section-content tools-section-content-migration"},xo={class:"table table-bordered table-hover table-striped"},yo={class:"row"},Co={class:"col mb-0"};function Ao(l,t,_,Ho,s,r){const k=f("inline-svg");return i(),a(c,null,[o("div",j,[o("div",D,[o("div",F,[o("div",I,[o("div",R,[o("h1",S,n(s.translations.tools.heading),1)]),o("div",U,[o("div",W,[o("details",z,[o("summary",L,[o("i",O,[x(k,{src:s.cbxwpbookmark_vue_var.icons_url+"icon_more_v.svg"},null,8,["src"])]),t[6]||(t[6]=o("span",{class:"sr-only"},null,-1))]),o("div",P,[o("ul",X,[(i(!0),a(c,null,u(s.cbxwpbookmark_vue_var.dashboard_menus,e=>(i(),a("li",null,[o("a",{href:e.url,class:"button outline dashboard_menu dashboard_menu_",role:"button",title:e.title},n(e.label),9,G)]))),256))])])])])])])])])]),o("div",J,[o("div",K,[o("div",Q,[o("div",Y,[o("div",Z,[o("div",$,[o("div",oo,[o("div",so,[o("h2",null,n(s.translations.tools.reset_option_data),1)]),o("div",to,[o("button",{class:"button secondary ml-20",onClick:t[0]||(t[0]=e=>s.show_option_table=!s.show_option_table)},n(s.translations.tools.show_hide),1)])]),s.show_option_table?(i(),a("div",eo,[o("div",no,[o("div",lo,[o("strong",null,n(s.translations.tools.following_option_values),1)])]),o("div",io,[o("div",ao,[o("p",ro,[o("button",{class:"button primary cbxwpbookmark_setting_options_check_action_call",onClick:t[1]||(t[1]=(...e)=>r.checkAll&&r.checkAll(...e))},n(s.translations.tools.check_all),1),o("button",{class:"button outline cbxwpbookmark_setting_options_check_action_ucall",onClick:t[2]||(t[2]=(...e)=>r.uncheckAll&&r.uncheckAll(...e))},n(s.translations.tools.uncheck_all),1)])]),o("div",_o,[o("button",{class:"button secondary ml-20 pull-right",onClick:t[3]||(t[3]=(...e)=>r.reset&&r.reset(...e))},n(s.translations.tools.reset_data),1)])]),o("table",co,[o("thead",null,[o("tr",null,[o("th",uo,n(s.translations.tools.option_name),1),o("th",null,n(s.translations.tools.option_id),1)])]),o("tbody",null,[(i(!0),a(c,null,u(s.option_array,(e,p)=>(i(),a("tr",{class:h(p%2==0?"alternate":"")},[o("td",ho,[y(o("input",{class:"magic-checkbox reset_options",type:"checkbox","onUpdate:modelValue":g=>s.reset_options[e.option_name]=g,id:"reset_options_"+e.option_id,value:e.option_name},null,8,bo),[[C,s.reset_options[e.option_name]]]),o("label",{for:"reset_options_"+e.option_id},n(e.option_name),9,po)]),o("td",null,n(e.option_id),1)],2))),256))]),o("tfoot",null,[o("tr",null,[o("th",mo,n(s.translations.tools.option_name),1),o("th",null,n(s.translations.tools.option_id),1)])])])])):b("",!0)]),t[9]||(t[9]=o("hr",null,null,-1)),o("div",vo,[o("div",ko,[o("div",go,[o("h2",null,n(s.translations.tools.migration_files),1)]),o("div",wo,[o("button",{class:"button secondary ml-20",onClick:t[4]||(t[4]=e=>s.show_migration_data=!s.show_migration_data)},n(s.translations.tools.show_hide),1)])]),s.show_migration_data?(i(),a("div",fo,[o("table",xo,[o("thead",null,[o("tr",null,[o("th",null,n(s.translations.tools.migration_file_name),1),o("th",null,n(s.translations.tools.status),1)])]),o("tbody",null,[(i(!0),a(c,null,u(s.cbxwpbookmark_vue_var.migration_files,(e,p)=>(i(),a("tr",null,[o("td",null,n(e),1),o("td",null,[o("span",{class:h(s.cbxwpbookmark_vue_var.migration_files_left.includes(e)?"text-error":"text-success")},n(s.cbxwpbookmark_vue_var.migration_files_left.includes(e)?s.translations.tools.need_migrate:s.translations.tools.done),3)])]))),256))]),o("tfoot",null,[o("tr",null,[o("th",null,n(s.translations.tools.migration_file_name),1),o("th",null,n(s.translations.tools.status),1)])])]),o("div",yo,[t[8]||(t[8]=o("div",{class:"col mb-0"},null,-1)),o("div",Co,[s.cbxwpbookmark_vue_var.migration_files_left.length?(i(),a("button",{key:0,class:h(["button success ld-ext-right",s.submitted?"running":""]),onClick:t[5]||(t[5]=(...e)=>r.migrate&&r.migrate(...e))},[A(n(s.translations.tools.run_migration)+" ",1),t[7]||(t[7]=o("span",{class:"ld ld-spin ld-ring"},null,-1))],2)):b("",!0)])])])):b("",!0)])])])])])])],64)}const Mo=w(E,[["render",Ao]]),Vo=M(),No=V({history:Vo,routes:[{path:"/",component:Mo}]});v("required",l=>!!l||"This field is required.");v("email",l=>/.+@.+\..+/.test(l)||"Must be a valid email.");m.defaults.headers.common["X-WP-Nonce"]=cbxwpbookmark_vue_var.rest_nonce;const d=N(B);d.use(H,m);d.use(T);d.component("inline-svg",q);d.use(No).mount("#cbxwpbookmark-tools");
